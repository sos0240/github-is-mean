# Research Log: Chile CMF
**Generated**: 2026-02-24T15:39:00Z
**Status**: Complete

---

## 1. VERSION INFORMATION

No library -- direct HTTP to CMF Chile website.
A community library `cmfapi` (v0.0.2) exists but is NOT used in our codebase.

---

# =====================================================================
# PART A: UNOFFICIAL COMMUNITY WRAPPER
# =====================================================================

**No unofficial wrapper used in our codebase.**

`cmfapi` (v0.0.2) exists on PyPI but is very early stage. See
`.roo/research/unofficial-wrapper-discovery-2026-02-24.md` for details.

---

# =====================================================================
# PART B: GOVERNMENT API -- CMF Chile
# =====================================================================

## B1. Endpoints Used (from our wrapper code)

### Company Search
```
GET https://www.cmfchile.cl/portal/informacion/entidades/busqueda
Params: tipo=SA&formato=json
```
**STATUS: UNVERIFIED** -- this URL path looks like a web portal page, not a REST API.
May return HTML instead of JSON. Needs runtime testing.

### Financial Statements (FECU)
```
GET https://www.cmfchile.cl/portal/estadisticas/fecu
Params: rut={id}&ano={year}&periodo={Q4|Q2}&formato=json
```
**STATUS: UNVERIFIED** -- same concern. FECU (standardized financial statements)
may or may not be available as JSON.

### Response Fields Expected (from our wrapper code)
```python
# From cl_cmf_wrapper.py
# Company list response:
item.get("rut", "")          # Chilean tax ID
item.get("razonSocial", "")  # legal name
item.get("nombre", "")       # display name
item.get("nemo", "")         # ticker/nemo

# FECU financial response:
item.get("cuenta", "")       # account name
item.get("concepto", "")     # concept name
item.get("valor", ...)       # value
item.get("monto", ...)       # amount
```

## B2. Canonical Field Coverage (via _CMF_MAP in canonical_translator.py)

```
# VERBATIM from canonical_translator.py
_CMF_MAP: dict[str, str] = {
    # Income statement (Estado de Resultados)
    "Ingresos de actividades ordinarias": "revenue",
    "Costo de ventas": "cost_of_revenue",
    "Ganancia bruta": "gross_profit",
    ...
}
```

Spanish FECU field names mapped to all canonical income, balance, and cashflow fields.

---

# =====================================================================
# PART C: SUMMARY
# =====================================================================

| Mode | Component | Status |
|------|-----------|--------|
| Unofficial | (none -- cmfapi 0.0.2 exists but unused) | N/A |
| Government | www.cmfchile.cl portal | **UNVERIFIED** -- may return HTML not JSON |

### Required Fixes
1. **NEEDS RUNTIME VERIFICATION** -- CMF endpoints may not return JSON
2. Field mappings (_CMF_MAP) are comprehensive IF the API returns structured data

---


# =====================================================================
# PART D: OHLCV & MACRO COVERAGE (added 2026-02-24)
# =====================================================================

## D1. OHLCV Price Data

**Primary**: yfinance 1.2.0 (global, no API key, 21.7k stars)
**Research log**: `.roo/research/ohlcv-yfinance-2026-02-24.md`

```python
# VERBATIM from yfinance source -- fetch Chile OHLCV
import yfinance as yf
df = yf.download(
    "SQM.SN",     # Chile ticker with ".SN" suffix
    period="5y",
    auto_adjust=False,      # raw/unadjusted OHLCV (PIT-safe)
    progress=False,
)
# Returns: DataFrame(Open, High, Low, Close, Adj Close, Volume)
```

**Ticker suffix for Chile**: `.SN`
**Example**: `SQM.SN`
**Notes**: yfinance primary.

## D2. Macro Economic Data

**Primary**: wbgapi 1.0.13 (World Bank, 200+ countries, no API key)
**Research log**: `.roo/research/macro-wbgapi-2026-02-24.md`

```python
# VERBATIM from wbgapi source -- fetch Chile macro indicators
import wbgapi as wb
df = wb.data.DataFrame(
    ["NY.GDP.MKTP.KD.ZG", "FP.CPI.TOTL.ZG", "SL.UEM.TOTL.ZS"],
    economy="CHL",    # Chile World Bank code
    mrv=10,                 # most recent 10 years
    numericTimeKeys=True,
)
# Returns: DataFrame with GDP growth, inflation, unemployment
```

**World Bank code for Chile**: `CHL`

**END OF RESEARCH LOG**
