# Research Log: Japan EDINET
**Generated**: 2026-02-24T14:36:00Z
**Status**: Complete

---

## 1. VERSION INFORMATION

| Component | Current (in requirements.txt) | Latest Available | Action Required |
|-----------|-------------------------------|------------------|-----------------|
| edinet-tools | >=0.3 (updated) | 0.3.0 | OK |

**edinet-tools Published**: 0.3.0 (from PyPI dist-tags, fetched 2026-02-24)

---

# =====================================================================
# PART A: UNOFFICIAL COMMUNITY WRAPPER -- edinet-tools
# =====================================================================

## A1. Registry Data

**Source**: https://pypi.org/pypi/edinet-tools/json (fetched 2026-02-24)
```
name: edinet-tools
version: 0.3.0
summary: Python package for accessing Japanese corporate financial data from EDINET
```

## A2. Verbatim Code -- Authentication

**Source**: https://github.com/matthelmer/edinet-tools/blob/main/README.md (Configuration section)
```bash
# COPIED VERBATIM
export EDINET_API_KEY=your_key_here
```

```dotenv
# COPIED VERBATIM -- .env file
EDINET_API_KEY=your_edinet_key
```

## A3. Verbatim Code -- Company Lookup

**Source**: https://github.com/matthelmer/edinet-tools/blob/main/README.md (Quick Start section)
```python
# COPIED VERBATIM
import edinet_tools

# Look up any company
toyota = edinet_tools.entity("7203")      # By ticker
toyota = edinet_tools.entity("Toyota")    # By name
print(toyota.name, toyota.edinet_code)    # TOYOTA MOTOR CORPORATION E02144
```

## A4. Verbatim Code -- Company Search

**Source**: https://github.com/matthelmer/edinet-tools/blob/main/README.md (Quick Start section)
```python
# COPIED VERBATIM
# Search companies
banks = edinet_tools.search("bank", limit=5)
```

## A5. Verbatim Code -- Document Retrieval

**Source**: https://github.com/matthelmer/edinet-tools/blob/main/README.md (Quick Start section)
```python
# COPIED VERBATIM
# Get filings (requires EDINET_API_KEY)
docs = toyota.documents(days=30)
for doc in docs[:3]:
    print(f"{doc.filing_datetime}: {doc.doc_type_name}")

# Parse a document into a typed object
report = docs[0].parse()
print(type(report).__name__)  # SecuritiesReport, LargeHoldingReport, etc.

# Get all documents filed on a specific date
all_filings = edinet_tools.documents("2026-01-20")
```

## A6. Verbatim Code -- Document Types

**Source**: https://github.com/matthelmer/edinet-tools/blob/main/README.md (Document Types table)
```
# COPIED VERBATIM
| Code | Type                  | Parser Class           |
|------|-----------------------|------------------------|
| 120  | Securities Report     | SecuritiesReport       |
| 140  | Quarterly Report      | QuarterlyReport        |
| 160  | Semi-Annual Report    | SemiAnnualReport       |
| 180  | Extraordinary Report  | ExtraordinaryReport    |
| 220  | Treasury Stock Report | TreasuryStockReport    |
| 350  | Large Shareholding    | LargeHoldingReport     |
```

## A7. Breaking Changes -- CRITICAL

**ALL methods our wrapper was calling DO NOT EXIST in edinet-tools v0.3.0:**

| Our wrapper called | Correct v0.3.0 API | Source |
|--------------------|---------------------|--------|
| `edinet_tools.search_companies(name)` | `edinet_tools.search(name, limit=N)` | README Quick Start |
| `edinet_tools.get_supported_companies()` | Does not exist -- use filing scan | README (no bulk list API) |
| `edinet_tools.get_company_info(id)` | `edinet_tools.entity(id)` | README Quick Start |
| `edinet_tools.resolve_company(id)` | `edinet_tools.entity(id)` | README Quick Start |
| `edinet_tools.api.get_documents(date)` | `edinet_tools.documents(date)` | README Quick Start |

## A8. Fixes Applied to Our Wrapper

1. `search_companies(name)` -> `edinet_tools.search(name, limit=20)`
2. `get_supported_companies()` -> removed, use gov API filing scan
3. `get_company_info(identifier)` -> `edinet_tools.entity(identifier)`
4. `resolve_company(identifier)` -> `edinet_tools.entity(identifier)`
5. `api.get_documents(date)` -> `edinet_tools.documents(date)` + `entity.documents(days=730)`
6. requirements.txt pinned to `edinet-tools>=0.3`

---

# =====================================================================
# PART B: GOVERNMENT API -- EDINET API v2
# =====================================================================

## B1. Documentation Source

**Source**: `EDINET Api doc` in repo root (compiled from official FSA resources)
```
# COPIED VERBATIM from repo EDINET Api doc, lines 1-3
EDINET provides free access to filings from ~11,000 Japanese companies
(e.g., securities reports, quarterly earnings, large shareholdings,
treasury stock). The API is v2-only since March 2024 (v1 deprecated).
```

## B2. Verbatim Endpoint Specifications

**Source**: EDINET Api doc, Section 3 and 4

### Base URL:
```
# COPIED VERBATIM
Base URL: https://api.edinet-fsa.go.jp/api/v2/
Version: v2 (path includes /api/v2/...). Use this for all requests
(v1 ended March 29, 2024).
```

### Document List API:
```
# COPIED VERBATIM from EDINET Api doc, Section 4.1
Path: /documents.json
Purpose: Get metadata or full list of submissions for a specific date (last ~10 years).
Required Params:
  - date: YYYY-MM-DD (filing date).
  - Subscription-Key: Your API key.
Optional Params:
  - type: 1 (metadata only, default) or 2 (full list + metadata).

Example Request:
GET https://api.edinet-fsa.go.jp/api/v2/documents.json?date=2026-02-20&type=2&Subscription-Key=your_key_here
```

### Document Acquisition API:
```
# COPIED VERBATIM from EDINET Api doc, Section 4.2
Path: /documents/{docID} (docID from list API, e.g., S100XXXX).
Purpose: Download a specific document in various formats.
Required Params:
  - type: 1 (XBRL ZIP + audit), 2 (PDF), 3 (Attachments ZIP),
          4 (English ZIP), 5 (CSV; only if csvFlag==1 in list).
```

## B3. Authentication

**Source**: EDINET Api doc, Section 2
```
# COPIED VERBATIM
API Key Required: Mandatory for v2 (Subscription-Key in query param or header).
Keys expire after ~2 years of inactivity.
```

## B4. Filing Form Codes

**Source**: EDINET Api doc (standard codes)
```
030000, 030001 -- Yuho (securities report / annual)
043000, 043001 -- Quarterly report
```
Our wrapper uses these as `_ANNUAL_FORM_CODES = {"030000", "030001"}` and
`_QUARTERLY_FORM_CODES = {"043000", "043001"}` -- CORRECT.

## B5. Response Fields

**Source**: EDINET Api doc, used in our wrapper's filing scan
```
Key fields from /documents.json response:
- edinetCode: entity identifier
- secCode: securities code (first 4 digits = ticker)
- filerName: company name
- formCode: form type code (030000=annual, etc.)
- submitDateTime: filing date/time
- periodEnd: fiscal period end date
- csvFlag: "1" if CSV download available
- legalStatus: viewing status
- withdrawalStatus: withdrawal status
```

## B6. Breaking Changes

None -- EDINET API v2 has been stable since launch (v1 deprecated March 2024).

---

# =====================================================================
# PART C: AUDIT RESULTS SUMMARY
# =====================================================================

| Mode | Component | Status | Fixes Applied |
|------|-----------|--------|---------------|
| Unofficial (primary) | edinet-tools 0.3.0 | FIXED | All 5 method calls replaced with correct v0.3.0 API |
| Government (fallback) | EDINET API v2 | OK | Endpoints correct, form codes correct |

### Canonical Field Coverage
- JPPFS concept mappings in `_JPPFS_MAP` cover all canonical income, balance, and cashflow fields
- IFRS mappings also available as fallback
- PIT columns: filing_date (submitDateTime), report_date (periodEnd)

---

**END OF RESEARCH LOG**
